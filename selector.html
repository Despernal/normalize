<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Referring to components of Records - normalize.selector &mdash; normalize 0.7.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="normalize 0.7.0 documentation" href="index.html" />
    <link rel="next" title="Comparing Records - normalize.diff" href="diff.html" />
    <link rel="prev" title="Defining Records - normalize.record" href="record.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="diff.html" title="Comparing Records - normalize.diff"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="record.html" title="Defining Records - normalize.record"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">normalize 0.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="referring-to-components-of-records-normalize-selector">
<h1>Referring to components of Records - <tt class="docutils literal"><span class="pre">normalize.selector</span></tt><a class="headerlink" href="#referring-to-components-of-records-normalize-selector" title="Permalink to this headline">¶</a></h1>
<p>There are two main purposes of <tt class="docutils literal"><span class="pre">normalize.selector</span></tt>:</p>
<ul class="simple">
<li>to abstract <em>expressions</em> to individual fields within objects, so
that the result from a <a class="reference internal" href="diff.html#normalize.diff.diff" title="normalize.diff.diff"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.diff.diff()</span></tt></a> operation can
specify the field where the difference(s) were discovered.</li>
<li>to <em>aggregate</em> collections of these expressions, so that <em>sets</em> of
attributes can be manipulated</li>
</ul>
<p>The feature set builds on these basic purposes, starting with
retrieval (see <a class="reference internal" href="#normalize.selector.FieldSelector.get" title="normalize.selector.FieldSelector.get"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.FieldSelector.get()</span></tt></a>),
assignment (see <a class="reference internal" href="#normalize.selector.FieldSelector.put" title="normalize.selector.FieldSelector.put"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.FieldSelector.put()</span></tt></a>),
assignment with auto-vivification of intermediate records and
collection items (<a class="reference internal" href="#normalize.selector.FieldSelector.post" title="normalize.selector.FieldSelector.post"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.FieldSelector.post()</span></tt></a>),
and finally deletion
(<a class="reference internal" href="#normalize.selector.FieldSelector.delete" title="normalize.selector.FieldSelector.delete"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.FieldSelector.delete()</span></tt></a>).</p>
<p>Multple <tt class="docutils literal"><span class="pre">FieldSelector</span></tt> objects can be combined, to make a
<tt class="docutils literal"><span class="pre">MultiFieldSelector</span></tt>.  It also supports
<a class="reference internal" href="#normalize.selector.MultiFieldSelector.get" title="normalize.selector.MultiFieldSelector.get"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.MultiFieldSelector.get()</span></tt></a> which returns a
&#8220;filtered&#8221; object,
<a class="reference internal" href="#normalize.selector.MultiFieldSelector.patch" title="normalize.selector.MultiFieldSelector.patch"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.MultiFieldSelector.patch()</span></tt></a> which can be
used to selectively assign values from one object to another, and
<a class="reference internal" href="#normalize.selector.MultiFieldSelector.delete" title="normalize.selector.MultiFieldSelector.delete"><tt class="xref py py-meth docutils literal"><span class="pre">normalize.selector.MultiFieldSelector.delete()</span></tt></a>.</p>
<p>The <tt class="docutils literal"><span class="pre">MultiFieldSelector</span></tt> can be used to restrict the action of
visitor functions (such as <a class="reference internal" href="diff.html#normalize.diff.diff" title="normalize.diff.diff"><tt class="xref py py-func docutils literal"><span class="pre">normalize.diff.diff()</span></tt></a> and
<a class="reference internal" href="visitor.html#normalize.visitor.VisitorPattern" title="normalize.visitor.VisitorPattern"><tt class="xref py py-class docutils literal"><span class="pre">normalize.visitor.VisitorPattern</span></tt></a>) to compare or visit only
a selection of fields in a data structure.</p>
<div class="section" id="class-reference">
<h2>Class reference<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="normalize.selector.FieldSelector">
<em class="property">class </em><tt class="descclassname">normalize.selector.</tt><tt class="descname">FieldSelector</tt><big>(</big><em>expr=None</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>A way to refer to fields/record/properties within a data structure.</p>
<p>This is modeled as a list of either attribute names or collection indices,
where:</p>
<ul class="simple">
<li>A string specifies an attribute of an object (or a dictionary key)</li>
<li>An integer specifies an index into a collection.</li>
<li>&#8216;None&#8217; specifies the full collection.</li>
</ul>
<dl class="method">
<dt id="normalize.selector.FieldSelector.__init__">
<tt class="descname">__init__</tt><big>(</big><em>expr=None</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializer for FieldSelector instances.</p>
<p>args:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">expr=</span></tt><em>FieldSelector</em>|<em>&lt;iterable&gt;</em></dt>
<dd>Starting expression for the selector; can copy an existing
FieldSelector or instantiate one from an iterable list of
attribute names/indices</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.add_property">
<tt class="descname">add_property</tt><big>(</big><em>prop</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.add_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.add_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends the selector, adding a new attribute property lookup at the
end, specified by name.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.add_index">
<tt class="descname">add_index</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.add_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.add_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends the selector, adding a new indexed collection lookup at the
end.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.add_full_collection">
<tt class="descname">add_full_collection</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.add_full_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.add_full_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends the selector, making it refer to <em>all</em> items in the
collection at this point.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.extend">
<tt class="descname">extend</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends this field selector with another FieldSelector, combining them
to one longer field selector.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__getnewargs__">
<tt class="descname">__getnewargs__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__getnewargs__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__getnewargs__" title="Permalink to this definition">¶</a></dt>
<dd><p>The pickle protocol is supported on this type.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.get">
<tt class="descname">get</tt><big>(</big><em>record</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the FieldSelector&#8217;s path to get a specific attribute (or
collection of attributes, if there is a <tt class="docutils literal"><span class="pre">None</span></tt> in the selector
expression) from the passed record.</p>
<p>If there is a problem, this method will typically raise
<tt class="xref py py-class docutils literal"><span class="pre">FieldSelectorException</span></tt>.</p>
<p>If the FieldSelector contains <tt class="docutils literal"><span class="pre">None</span></tt>, then exceptions from iterating
over all of the sub-fields are suppressed, so long as one of the items
succeed.  The return value will have <tt class="docutils literal"><span class="pre">None</span></tt> for the values which did
not have the attribute.  If all the items fail, then one of the
exceptions will be bubbled up to the caller.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">record</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&quot;bar&quot;</span>
<span class="n">field_selector</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;foo&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="n">field_selector</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>  <span class="c"># &quot;bar&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.put">
<tt class="descname">put</tt><big>(</big><em>record</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the field referenced by this field selector for the given Record
with the given value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">field_selector</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="s">&quot;baz&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">record</span><span class="o">.</span><span class="n">foo</span>  <span class="c"># &quot;baz&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.post">
<tt class="descname">post</tt><big>(</big><em>record</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.post" title="Permalink to this definition">¶</a></dt>
<dd><p>auto-vivifying version of &#8216;put&#8217;; if properties are not found along
the path, attempts are made to set them to empty values.</p>
<p>Returns the number of values set; may be 0 if there is &#8216;None&#8217; in the
selector and there were no existing items in that collection.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">field_selector</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;stuff&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="p">])</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">SomeObject</span><span class="p">()</span>
<span class="n">field_selector</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s">&quot;Bob&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">obj</span><span class="o">.</span><span class="n">stuff</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>  <span class="c"># &quot;Bob&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.delete">
<tt class="descname">delete</tt><big>(</big><em>record</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Like &#8216;put&#8217;, but deletes the item from the specified location.</p>
<p>If there is a problem, this method will typically raise
<tt class="xref py py-class docutils literal"><span class="pre">FieldSelectorException</span></tt>.</p>
<p>This function has the same behavior with respect to collections as
<tt class="docutils literal"><span class="pre">get()</span></tt>: it will only raise an exception if all of the items in the
set did not have the property to delete.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">record</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&quot;bar&quot;</span>
<span class="n">field_selector</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;foo&quot;</span><span class="p">])</span>
<span class="n">field_selector</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
<span class="k">print</span> <span class="n">field_selector</span><span class="o">.</span><span class="n">foo</span>  <span class="c"># AttributeError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__eq__">
<tt class="descname">__eq__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implemented; field selectors must have identical paths to compare
equal.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__ne__">
<tt class="descname">__ne__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>functools.total_ordering() currently doesn&#8217;t take care of __ne__().
Don&#8217;t call other comparison methods directly to avoid infinite
recursion.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__lt__">
<tt class="descname">__lt__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Ordering field selectors makes sure that all integer-indexed
selectors are incrementing.  This is mainly needed for
<tt class="xref py py-meth docutils literal"><span class="pre">FieldSelector.post()</span></tt>, which will only auto-extend collections
items at the end.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__str__">
<tt class="descname">__str__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a compact representation of the field selector, shown as a
python expression.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a evaluable representation of a field selector.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__add__">
<tt class="descname">__add__</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new FieldSelector, with the two attribute/index expression
lists concatenated.  Like <tt class="xref py py-meth docutils literal"><span class="pre">extend()</span></tt> but creates a new
<tt class="docutils literal"><span class="pre">FieldSelector</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fs</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;foo&quot;</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;bar&quot;</span><span class="p">])</span>

<span class="k">print</span> <span class="n">fs</span> <span class="o">+</span> <span class="n">bar</span>  <span class="c"># &lt;FieldSelector: .foo.bar&gt;</span>
<span class="k">print</span> <span class="n">fs</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c"># &lt;FieldSelector: .foo[0]&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of elements in the field selector expression.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexing can be used to return a particular item from the selector
expression, and slicing can be used to make a new FieldSelector which
has a shorter expression.  For instance, to trim the last:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">trimmed_fs</span> <span class="o">=</span> <span class="n">field_selector</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.FieldSelector.startswith">
<tt class="descname">startswith</tt><big>(</big><em>key_or_fs</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.startswith"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.startswith" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to assert how the field selector begins.</p>
<p>args:</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">key_or_fs=</span></tt><em>FieldSelector</em>|<em>&lt;attribute-or-index&gt;</em></p>
<blockquote>
<div><p>If the argument is another FieldSelector (or a tuple/list), it
checks that the invocant&#8217;s first selector expression components
match the components in the selector passed.</p>
<p>If the argument is a valid index/key or attribute name, it will
check that the first member in the expression is the same as
that passed.</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="normalize.selector.FieldSelector.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.path" title="Permalink to this definition">¶</a></dt>
<dd><p>This property returns something that looks a bit like a python
representation of the implied expression.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">foo</span> <span class="o">=</span> <span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;b ar&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;baz&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="n">foo</span><span class="o">.</span><span class="n">path</span>  <span class="c"># foo[2][&#39;b ar&#39;][*].baz</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="normalize.selector.FieldSelector.from_path">
<em class="property">classmethod </em><tt class="descname">from_path</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#FieldSelector.from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.FieldSelector.from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate constructor.  Constructs a FieldSelector from the
abbreviated text representation (.path attribute)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="normalize.selector.MultiFieldSelector">
<em class="property">class </em><tt class="descclassname">normalize.selector.</tt><tt class="descname">MultiFieldSelector</tt><big>(</big><em>*others</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of a FieldSelector which stores multiple FieldSelectors combined
into a single tree structure.</p>
<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__init__">
<tt class="descname">__init__</tt><big>(</big><em>*others</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a MultiFieldSelector based on combining the passed-in
FieldSelector and MultiFieldSelector objects.</p>
<p>args:</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">*others=</span></tt><em>FieldSelector</em>|<em>iterable</em></p>
<blockquote>
<div>Each argument is interpreted as either a FieldSelector, or a
FieldSelector constructor.</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__str__">
<tt class="descname">__str__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Stringification of a MultiFieldSelector shows just the keys in the
top level, and an indication of whether a sub-key is filtered.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span> <span class="o">=</span> <span class="n">MultiFieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">mfs</span><span class="p">)</span>
<span class="go">&#39;&lt;MultiFieldSelector: a.b|a.d|c&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="normalize.selector.MultiFieldSelector.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path attribute returns a stringified, concise representation of
the MultiFieldSelector.  It can be reversed by the <tt class="docutils literal"><span class="pre">from_path</span></tt>
constructor.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for all FieldSelectors this MultiFieldSelector
implicitly contains.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span> <span class="o">=</span> <span class="n">MultiFieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mfs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">x</span>
<span class="gp">...</span>
<span class="go">&lt;FieldSelector: .a.b&gt;</span>
<span class="go">&lt;FieldSelector: .a.d&gt;</span>
<span class="go">&lt;FieldSelector: .c&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sub-MultiFieldSelector that applies to the specified
field/key/index.  If the MultiFieldSelector does not match any fields
at this path, it returns <tt class="docutils literal"><span class="pre">None</span></tt>.  If it matches all fields at the
path, then it returns a &#8216;complete&#8217; MultiFieldSelector (ie, a field
selector which matches everything).  If it matches a subset of fields
at that location, it will return a MultiFieldSelector which contains
those fields.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span> <span class="o">=</span> <span class="n">MultiFieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span>
<span class="go">MultiFieldSelector([&#39;b&#39;], [&#39;d&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span><span class="p">[(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">)]</span>
<span class="go">None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>index</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__contains__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see whether the given item matches the MultiFieldSelector.</p>
<p>For item index (string, number, <tt class="docutils literal"><span class="pre">None</span></tt>) lookups, the result is True
if the result of applying the MultiFieldSelector (with <tt class="docutils literal"><span class="pre">.get</span></tt>) would
return an item in that location (if it existed in the input).</p>
<p>For a FieldSelector (or sequence) lookups, the result is True if the
result of applying the MultiFieldSelector and then the FieldSelector on
an input is the same as applying the FieldSelector on the input.  ie,
that the MultiFieldSelector is a superset of the FieldSelector.</p>
<p>Unlike plain collections, use of <tt class="docutils literal"><span class="pre">in</span></tt> does not mean that subscripting
will return <tt class="docutils literal"><span class="pre">KeyError</span></tt>.  When used with a FieldSelector, it returns
<tt class="docutils literal"><span class="pre">False</span></tt> when <tt class="docutils literal"><span class="pre">__getitem__</span></tt> with the index would not return a
complete FieldSelector, whereas the <tt class="docutils literal"><span class="pre">__getitem__</span></tt> call would return a
partial (non-complete) MultiFieldSelector.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span> <span class="o">=</span> <span class="n">MultiFieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;a&quot;</span> <span class="ow">in</span> <span class="n">mfs</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;b&quot;</span> <span class="ow">in</span> <span class="n">mfs</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">])</span> <span class="ow">in</span> <span class="n">mfs</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">])</span> <span class="ow">in</span> <span class="n">mfs</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;e&quot;</span><span class="p">])</span> <span class="ow">in</span> <span class="n">mfs</span>
<span class="go">False</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Implemented as per SPECIALMETHODS recommendation to return a full
python source to reconstruct:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span> <span class="o">=</span> <span class="n">MultiFieldSelector</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfs</span>
<span class="go">MultiFieldSelector([&#39;a&#39;, &#39;b&#39;], [&#39;a&#39;, &#39;d&#39;], [&#39;c&#39;])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.get">
<tt class="descname">get</tt><big>(</big><em>obj</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of the passed object which only contains the parts
which are pointed to by one of the FieldSelectors that were used to
construct the MultiFieldSelector.  Can be used to produce &#8216;filtered&#8217;
versions of objects.</p>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.delete">
<tt class="descname">delete</tt><big>(</big><em>obj</em>, <em>force=False</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all of the fields at the specified locations.</p>
<p>args:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">obj=</span></tt><em>OBJECT</em></dt>
<dd>the object to remove the fields from</dd>
<dt><tt class="docutils literal"><span class="pre">force=</span></tt><em>BOOL</em></dt>
<dd>if True, missing attributes do not raise errors.  Otherwise,
the first failure raises an exception without making any
changes to <tt class="docutils literal"><span class="pre">obj</span></tt>.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="normalize.selector.MultiFieldSelector.patch">
<tt class="descname">patch</tt><big>(</big><em>target</em>, <em>source</em>, <em>copy=False</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies fields from <tt class="docutils literal"><span class="pre">obj</span></tt> to <tt class="docutils literal"><span class="pre">target</span></tt>.  If a matched field does
not exist in <tt class="docutils literal"><span class="pre">obj</span></tt>, it will be deleted from <tt class="docutils literal"><span class="pre">target</span></tt>, otherwise it
will be assigned (or copied).</p>
<p>args:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">target=</span></tt><em>OBJECT</em></dt>
<dd>the object to set the fields in</dd>
<dt><tt class="docutils literal"><span class="pre">source=</span></tt><em>OBJECT</em></dt>
<dd>the object to lift the fields from</dd>
<dt><tt class="docutils literal"><span class="pre">copy=</span></tt><em>BOOL</em>|<em>FUNCTION</em></dt>
<dd>deep copy the values set, using copy.deepcopy (or the passed
function).  False by default.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="classmethod">
<dt id="normalize.selector.MultiFieldSelector.from_path">
<em class="property">classmethod </em><tt class="descname">from_path</tt><big>(</big><em>mfs_path</em><big>)</big><a class="reference internal" href="_modules/normalize/selector.html#MultiFieldSelector.from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#normalize.selector.MultiFieldSelector.from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate constructor.  Constructs a MultiFieldSelector from the
abbreviated text representation (.path attribute)</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Referring to components of Records - <tt class="docutils literal"><span class="pre">normalize.selector</span></tt></a><ul>
<li><a class="reference internal" href="#class-reference">Class reference</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="record.html"
                        title="previous chapter">Defining Records - <tt class="docutils literal"><span class="pre">normalize.record</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="diff.html"
                        title="next chapter">Comparing Records - <tt class="docutils literal"><span class="pre">normalize.diff</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/selector.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="diff.html" title="Comparing Records - normalize.diff"
             >next</a> |</li>
        <li class="right" >
          <a href="record.html" title="Defining Records - normalize.record"
             >previous</a> |</li>
        <li><a href="index.html">normalize 0.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Sam Vilain, Hearsay Social.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>